<!DOCTYPE html>
<html lang="en-us">
<head>
    <meta charset="UTF-8">
    {% load static %}
    <link rel="stylesheet" type="text/css" href="{% static 'nestlist/css/style.css' %}">
    <!-- TODO: update icon later -->
    <link rel="icon" type="image/png" href="{% static 'nestlist/images/ballhead cc.png' %}">
    <script type="text/javascript" src="{% static 'nestlist/js/sort_t.js' %}"></script>
    <title>{{ city.short_name }} Nests!</title>
</head>
<body>
    <center>
        <header><p><a href="report/">Report a nest!</a></p></header>
    <table id="myTable2">
        <caption>{{ city }}<br>#{{ rotation }}</caption>
        <tr>
            <th onclick="sortTable('myTable2', 0)">Neighborhood</th>
            <th onclick="sortTable('myTable2', 1)">Park</th>
            <th onclick="sortTable('myTable2', 2)">#</th>
            <th onclick="sortTable('myTable2', 3)">Species</th>
        </tr>
        {% for nest in current_nest_list %}
            <tr id="{{ nest.id }}" class="nest {% if nest.confirmation %}confirmed{% else %}unconfirmed{% endif %}">
                <td id="{{ nest.nestid.neighborhood.pk }}">{{ nest.nestid.neighborhood }}</td>
                <td class="nest-name tooltip">
                    {{ nest.nestid.get_name }}
                    <span class="tooltiptext">
                        {% if nest.nestid.address %}
                        {{ nest.nestid.address }}
                        {% else %}
                        <div class="address-error">No address on file</div>
                        {% endif %}
                        {% if nest.nestid.private %}
                        <div class="privacy-notice">Private property, please be respectful</div>
                        {% endif %}
                    </span>
                </td>
                <td class="number">{{ nest.species_no }}</td>
                <td class="species">{{ nest.species_txt }}</td>
            </tr>
        {% endfor %}
    </table>
        <hr>
        <footer>
            <p class="confirmed">Species with a <span class="species">bold name</span> and an <span class="number">italic pok√©dex number</span> have multiple confirming reports.</p>
            <p>Mid-rotation events may throw off the accuracy of the list.</p>
            <a href="report/">Report a nest!</a>
        </footer>
    </center>
</body></html>